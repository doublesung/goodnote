(function(e){function t(t){for(var o,s,l=t[0],d=t[1],b=t[2],r=0,j=[];r<l.length;r++)s=l[r],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&j.push(a[s][0]),a[s]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);i&&i(t);while(j.length)j.shift()();return n.push.apply(n,b||[]),c()}function c(){for(var e,t=0;t<n.length;t++){for(var c=n[t],o=!0,l=1;l<c.length;l++){var d=c[l];0!==a[d]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=c[0]))}return e}var o={},a={app:0},n=[];function s(t){if(o[t])return o[t].exports;var c=o[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=e,s.c=o,s.d=function(e,t,c){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(c,o,function(t){return e[t]}.bind(null,o));return c},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var b=0;b<l.length;b++)t(l[b]);var i=d;n.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"197e":function(e,t,c){},"365d":function(e,t,c){},4678:function(e,t,c){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=n(e);return c(t)}function n(e){if(!c.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=n,e.exports=a,a.id="4678"},"56d7":function(e,t,c){"use strict";c.r(t);var o=c("7a23");const a={class:"d-flex h-100"};function n(e,t,c,n,s,l){const d=Object(o["E"])("Sidebar"),b=Object(o["E"])("router-view");return Object(o["w"])(),Object(o["g"])("div",a,[Object(o["j"])(d),Object(o["j"])(b)])}const s=e=>(Object(o["z"])("data-v-0b1c79ba"),e=e(),Object(o["x"])(),e),l={class:"d-flex align-items-center justify-content-between m-4"},d=s(()=>Object(o["h"])("p",{class:"fs-4 fw-bold m-0"},"Goodnote",-1)),b=s(()=>Object(o["h"])("i",{class:"px-1 ri-menu-fold-line"},null,-1)),i=[b],r=s(()=>Object(o["h"])("div",{class:"d-grid gap-2 mx-4 mb-4"},[Object(o["h"])("button",{type:"button",class:"btn btn-light text-primary rounded-pill btn-block text-nowrap","data-bs-toggle":"modal","data-bs-target":"#NotebookCreateModal"},[Object(o["h"])("i",{class:"ri-add-fill fs-5"}),Object(o["h"])("span",{class:"fw-bold"},"創建筆記")])],-1)),j={class:"flex-fill px-2",style:{"overflow-x":"hidden"}},u={class:"mb-3"},O=s(()=>Object(o["h"])("div",null,[Object(o["h"])("i",{class:"ri-heart-fill pe-2"}),Object(o["h"])("span",{class:"fw-bold"},"最愛")],-1)),p={class:"arrow d-flex rounded"},f={class:"collapse fs-6 show",id:"collapseStart"},h={key:0},m=s(()=>Object(o["h"])("i",{class:"ri-file-text-line pe-2"},null,-1)),g={class:""},k=s(()=>Object(o["h"])("div",null,[Object(o["h"])("i",{class:"ri-file-text-fill pe-2"}),Object(o["h"])("span",{class:"fw-bold"},"我的筆記")],-1)),v={class:"collapse fs-6 show",id:"collapseNotebooks"},w=s(()=>Object(o["h"])("i",{class:"ri-file-text-line pe-2"},null,-1)),y=s(()=>Object(o["h"])("div",{class:"sidebar-footer p-2 d-flex flex-column align-items-center"},[Object(o["h"])("a",{class:"text-decoration-none fs-4 text-white",href:"https://github.com/doublesung/goodnote"},[Object(o["h"])("i",{class:"ri-github-fill"})]),Object(o["h"])("p",{class:"fs-6 m-0 text-nowrap"},"© 2023 Goodnote")],-1)),x={class:"h-100"},C={class:"border-end d-flex flex-column align-items-center bg-light h-100",style:{width:"20px"}},D=s(()=>Object(o["h"])("i",{class:"px-1 ri-menu-unfold-line"},null,-1)),I=[D];function S(e,t,c,a,n,s){const b=Object(o["E"])("router-link"),D=Object(o["E"])("NotebookCreateModal");return Object(o["w"])(),Object(o["g"])(o["a"],null,[Object(o["h"])("div",{class:"sidebar bg-primary text-white fs-5 d-flex flex-column",style:Object(o["r"])({width:a.isShowSidebar?"260px":"0px"})},[Object(o["h"])("div",l,[Object(o["j"])(b,{class:"nav-link",to:"/Notebooks"},{default:Object(o["N"])(()=>[d]),_:1}),Object(o["h"])("div",{class:"arrow d-flex rounded pointer",onClick:t[0]||(t[0]=e=>a.isShowSidebar=!a.isShowSidebar)},i)]),r,Object(o["h"])("div",j,[Object(o["h"])("div",u,[Object(o["h"])("div",{class:"py-2 px-3 d-flex justify-content-between rounded sidebar-item pointer","data-bs-toggle":"collapse","data-bs-target":"#collapseStart","aria-expanded":"true","aria-controls":"collapseStart",onClick:t[1]||(t[1]=e=>a.toggleCllapse(e,"start"))},[O,Object(o["h"])("div",p,[Object(o["h"])("i",{class:Object(o["q"])(["px-1 rounded ri-arrow-down-s-line transition",{"arrow-rotate":a.arrowRotateFlag.start}])},null,2)])]),Object(o["h"])("ul",f,[(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(a.notebooks.data,(e,t)=>(Object(o["w"])(),Object(o["g"])(o["a"],{key:t},[e.isStart?(Object(o["w"])(),Object(o["g"])("li",h,[Object(o["j"])(b,{class:Object(o["q"])(["nav-link w-100 py-1 px-4 rounded sidebar-item",{"sidebar-start-item-active":a.controlSidebarItemActive==t}]),to:"/"+e.name+"/"+t},{default:Object(o["N"])(()=>[m,Object(o["i"])(" "+Object(o["G"])(e.name),1)]),_:2},1032,["class","to"])])):Object(o["f"])("",!0)],64))),128))])]),Object(o["h"])("div",g,[Object(o["j"])(b,{class:Object(o["q"])(["nav-link d-flex justify-content-between w-100 py-2 px-3 rounded sidebar-item",{"sidebar-item-active":"Notebooks"==a.controlSidebarItemActive}]),to:"/Notebooks"},{default:Object(o["N"])(()=>[k,Object(o["h"])("div",{class:"arrow d-flex rounded","data-bs-toggle":"collapse","data-bs-target":"#collapseNotebooks","aria-expanded":"true","aria-controls":"collapseNotebooks",onClick:t[2]||(t[2]=Object(o["Q"])(e=>a.toggleCllapse(e,"notebooks"),["prevent"]))},[Object(o["h"])("i",{class:Object(o["q"])(["px-1 ri-arrow-down-s-line transition",{"arrow-rotate":a.arrowRotateFlag.notebooks}])},null,2)])]),_:1},8,["class"]),Object(o["h"])("ul",v,[(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(a.notebooks.data,(e,t)=>(Object(o["w"])(),Object(o["g"])("li",{key:t},[Object(o["j"])(b,{class:Object(o["q"])(["nav-link w-100 py-1 px-4 rounded sidebar-item",{"sidebar-item-active":a.controlSidebarItemActive==t}]),to:"/"+e.name+"/"+t},{default:Object(o["N"])(()=>[w,Object(o["i"])(" "+Object(o["G"])(e.name),1)]),_:2},1032,["class","to"])]))),128))])])]),y],4),Object(o["O"])(Object(o["h"])("div",x,[Object(o["h"])("div",C,[Object(o["h"])("button",{type:"button",class:"btn btn-light border p-0 fs-5 ms-4 mt-2",style:{"z-index":"10"},onClick:t[3]||(t[3]=e=>a.isShowSidebar=!a.isShowSidebar)},I)])],512),[[o["L"],!a.isShowSidebar]]),Object(o["j"])(D)],64)}var R=c("6605"),N=c("66ce");const A={class:"modal-dialog modal-dialog-centered"},T={class:"modal-content"},E=Object(o["h"])("div",{class:"modal-header"},[Object(o["h"])("h5",{class:"modal-title",id:"NotebookCreateModalLabel"},"創建一個新的筆記"),Object(o["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),L={class:"modal-body"},z={class:"mb-3"},M=Object(o["h"])("label",{for:"exampleInputEmail1",class:"form-label"},[Object(o["h"])("small",null,"名稱")],-1),B={class:"modal-footer"},F=Object(o["h"])("button",{type:"button",class:"btn btn-secondary","ata-bs-dismiss":"modal"}," 取消 ",-1);function _(e,t,c,a,n,s){return Object(o["w"])(),Object(o["g"])("div",{class:"modal fade",id:"NotebookCreateModal",tabindex:"-1","aria-labelledby":"NotebookCreateModalLabel","aria-hidden":"true",ref:e=>a.setModalRef(e)},[Object(o["h"])("div",A,[Object(o["h"])("div",T,[E,Object(o["h"])("div",L,[Object(o["h"])("form",null,[Object(o["h"])("div",z,[M,Object(o["O"])(Object(o["h"])("input",{type:"text",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp","onUpdate:modelValue":t[0]||(t[0]=e=>a.notebookName=e)},null,512),[[o["K"],a.notebookName]])])])]),Object(o["h"])("div",B,[Object(o["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>a.createNotebook&&a.createNotebook(...e))}," 創建 "),F])])])],512)}c("14d9");var V=c("7b17"),G={name:"NotebookCreateModal",setup(){const e=Object(N["b"])(),t=Object(R["d"])(),c=Object(o["B"])(null),a=()=>{if(c.value){const o=Object(N["d"])(Object(N["a"])(Object(N["e"])(e),"notebooks")).key;Object(N["g"])(Object(N["e"])(e),{["notebooks/"+o]:{name:c.value,lists:"",isStart:!1}}),l(),t.push({path:"/"+c.value+"/"+o})}},n=Object(o["B"])(null),s=e=>{e&&(n.value||(n.value=new V["b"](e)))},l=()=>{n.value.hide()};return{createNotebook:a,notebookName:c,setModalRef:s}}},q=c("6b0d"),U=c.n(q);const $=U()(G,[["render",_]]);var H=$,P={name:"Sidebar",components:{NotebookCreateModal:H},setup(){const e=Object(R["c"])(),t=Object(N["b"])(),c=Object(N["e"])(t,"notebooks"),a=Object(o["A"])({data:{}});Object(N["c"])(c,e=>{a.data=e.val()});const n=Object(o["c"])(()=>"Notebooks"===e.name?"Notebooks":e.params.key),s=Object(o["A"])({start:!0,notebooks:!0}),l=(e,t)=>{const c=e.currentTarget.getAttribute("aria-expanded");s[t]="true"===c},d=Object(o["B"])(!0);return{notebooks:a,controlSidebarItemActive:n,arrowRotateFlag:s,toggleCllapse:l,isShowSidebar:d}}};c("b68b");const K=U()(P,[["render",S],["__scopeId","data-v-0b1c79ba"]]);var Y=K,W={name:"App",components:{Sidebar:Y}};c("d991");const J=U()(W,[["render",n]]);var Q=J;const X=e=>(Object(o["z"])("data-v-37b5726e"),e=e(),Object(o["x"])(),e),Z={class:"w-100 h-100 mx-4 pt-4 overflow-auto"},ee={style:{"min-width":"310px"}},te=X(()=>Object(o["h"])("h1",{class:"fs-3 mb-4 fw-bold"},"我的筆記",-1)),ce={class:"border-bottom w-100 d-flex justify-content-between mb-4 pb-2"},oe=X(()=>Object(o["h"])("div",{class:"d-flex align-items-center"},[Object(o["h"])("button",{type:"button",class:"border-0 bg-transparent me-2 text-reset","data-bs-toggle":"modal","data-bs-target":"#NotebookCreateModal"},[Object(o["h"])("strong",null,[Object(o["h"])("i",{class:"ri-add-circle-line",style:{"vertical-align":"-5%"}}),Object(o["i"])(" 創建筆記 ")])])],-1)),ae={key:0},ne={class:"list-item rounded-3 border py-2 px-3 mb-3"},se=X(()=>Object(o["h"])("i",{class:"ri-file-text-fill pe-2"},null,-1)),le={key:1};function de(e,t,c,a,n,s){const l=Object(o["E"])("router-link"),d=Object(o["E"])("NotebookCreateModal");return Object(o["w"])(),Object(o["g"])("div",Z,[Object(o["h"])("div",ee,[te,Object(o["h"])("div",ce,[Object(o["h"])("div",null,Object(o["G"])(Object.keys(a.notebooks.data).length)+"個筆記",1),oe]),Object.keys(a.notebooks.data).length?(Object(o["w"])(),Object(o["g"])("div",ae,[(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(a.notebooks.data,(e,t)=>(Object(o["w"])(),Object(o["e"])(l,{class:"nav-link",to:"/"+e.name+"/"+t,key:t},{default:Object(o["N"])(()=>[Object(o["h"])("div",ne,[se,Object(o["i"])(" "+Object(o["G"])(e.name),1)])]),_:2},1032,["to"]))),128))])):(Object(o["w"])(),Object(o["g"])("div",le,"還沒建立任何筆記"))]),Object(o["j"])(d)])}var be={name:"Notebooks",components:{NotebookCreateModal:H},setup(){const e=Object(N["b"])(),t=Object(N["e"])(e,"notebooks"),c=Object(o["A"])({data:{}});return Object(N["c"])(t,e=>{c.data=e.val()}),{notebooks:c}}};c("c606");const ie=U()(be,[["render",de],["__scopeId","data-v-37b5726e"]]);var re=ie;const je=e=>(Object(o["z"])("data-v-331de761"),e=e(),Object(o["x"])(),e),ue={class:"d-flex flex-column w-100 h-100 overflow-auto"},Oe={class:"d-flex flex-wrap justify-content-between align-items-center border-bottom m-4"},pe={class:"d-flex flex-wrap align-items-center mw-100"},fe={class:"fs-3 mb-0 me-3 fw-bold text-truncate mb-2"},he={key:0,class:"ri-star-line"},me={key:1,class:"ri-star-fill text-warning"},ge={class:"d-flex flex-wrap"},ke={class:"dropdown d-flex flex-shrink-0 me-2 mb-2"},ve={id:"dropdownTagNone","data-bs-toggle":"dropdown","aria-expanded":"false"},we=je(()=>Object(o["h"])("i",{class:"ri-filter-3-line me-2"},null,-1)),ye={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownTagNone"},xe=["onClick"],Ce=je(()=>Object(o["h"])("i",{class:"ri-price-tag-line me-1"},null,-1)),De={key:1,class:"text-nowrap px-3"},Ie=je(()=>Object(o["h"])("i",{class:"ri-close-line fs-5"},null,-1)),Se=[Ie],Re={class:"dropdown mb-2"},Ne=je(()=>Object(o["h"])("button",{type:"button",class:"btn btn-light",id:"dropdownTagList","data-bs-toggle":"dropdown","aria-expanded":"false"},[Object(o["h"])("i",{class:"ri-more-fill"})],-1)),Ae={class:"dropdown-menu","aria-labelledby":"dropdownTagList"},Te=je(()=>Object(o["h"])("i",{class:"ri-delete-bin-line fs-5 me-1"},null,-1)),Ee={class:"flex-fill d-flex align-items-start overflow-auto h-auto px-4 pb-4"},Le={class:"d-flex align-items-center mb-2 w-100 px-2"},ze=["onClick"],Me=["onUpdate:modelValue","onBlur"],Be=je(()=>Object(o["h"])("button",{type:"button",class:"btn btn-light p-0 px-1",id:"dropdownMenuList","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false"},[Object(o["h"])("i",{class:"ri-more-fill fs-5"})],-1)),Fe=["onClick"],_e=je(()=>Object(o["h"])("li",{class:"dropdown-item pointer"},[Object(o["h"])("i",{class:"ri-delete-bin-line fs-5 me-1"}),Object(o["i"])(" 刪除 ")],-1)),Ve=[_e],Ge={class:"list-items mh-100 overflow-auto px-2"},qe=["onClick"],Ue={class:"bg-white rounded p-3 item-hover"},$e={class:"mb-1 fs-5 text-break"},He={class:"me-1 text-white"},Pe={key:0,class:"d-inline-block me-2"},Ke=je(()=>Object(o["h"])("i",{class:"ri-time-line"},null,-1)),Ye={key:1,class:"ri-align-left me-2"},We={key:2,class:"d-inline-block me-2"},Je=je(()=>Object(o["h"])("i",{class:"ri-checkbox-line"},null,-1)),Qe={key:3,class:"d-inline-block"},Xe=je(()=>Object(o["h"])("i",{class:"ri-attachment-line"},null,-1)),Ze={class:"d-grid gap-2"},et=["onClick"],tt=je(()=>Object(o["h"])("i",{class:"ri-add-fill fs-5 me-1"},null,-1)),ct=je(()=>Object(o["h"])("span",null,"新增記事",-1)),ot=[tt,ct],at=["onBlur","onKeypress"],nt=je(()=>Object(o["h"])("i",{class:"ri-add-fill fs-5"},null,-1)),st=je(()=>Object(o["h"])("button",{type:"button",class:"btn"},"取消",-1));function lt(e,t,c,a,n,s){const l=Object(o["E"])("ItemModal");return Object(o["w"])(),Object(o["g"])("div",ue,[Object(o["h"])("div",Oe,[Object(o["h"])("div",pe,[Object(o["h"])("h1",fe,Object(o["G"])(a.notebook.data.name),1),Object(o["h"])("button",{type:"button",class:"btn btn-light mb-2",onClick:t[0]||(t[0]=(...e)=>a.setStart&&a.setStart(...e))},[a.notebook.data.isStart?(Object(o["w"])(),Object(o["g"])("i",me)):(Object(o["w"])(),Object(o["g"])("i",he))])]),Object(o["h"])("div",ge,[Object(o["h"])("div",ke,[Object(o["h"])("div",ve,[Object(o["h"])("button",{type:"button",class:Object(o["q"])(["btn",a.tagIdFilter?"btn-primary rounded-0 rounded-start":"btn-light"])},[we,Object(o["h"])("span",null,Object(o["G"])(a.tagIdFilter?"標籤篩選中":"標籤篩選"),1)],2)]),Object(o["h"])("ul",ye,[a.notebook.data.tags?(Object(o["w"])(!0),Object(o["g"])(o["a"],{key:0},Object(o["C"])(a.notebook.data.tags,(e,t)=>(Object(o["w"])(),Object(o["g"])("li",{class:Object(o["q"])(["dropdown-item pointer",{active:a.tagIdFilter===t}]),key:t,onClick:e=>a.tagIdFilter=t},[Ce,Object(o["i"])(" "+Object(o["G"])(e),1)],10,xe))),128)):(Object(o["w"])(),Object(o["g"])("li",De,"尚未添加任何標籤"))]),a.tagIdFilter?(Object(o["w"])(),Object(o["g"])("button",{key:0,type:"button",class:"btn btn-primary rounded-0 rounded-end p-0 px-1 border-start",onClick:t[1]||(t[1]=e=>a.tagIdFilter=null)},Se)):Object(o["f"])("",!0)]),Object(o["h"])("div",Re,[Ne,Object(o["h"])("ul",Ae,[Object(o["h"])("li",{class:"dropdown-item pointer",onClick:t[2]||(t[2]=(...e)=>a.deleteNotebook&&a.deleteNotebook(...e))},[Te,Object(o["i"])(" 刪除 ")])])])])]),Object(o["h"])("div",Ee,[(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(a.notebook.data.lists,(e,t)=>(Object(o["w"])(),Object(o["g"])("div",{class:"bg-light p-2 rounded border me-4 list-width mh-100 d-flex flex-column",key:t},[Object(o["h"])("div",Le,[Object(o["h"])("button",{class:Object(o["q"])(["text-truncate btn border border-light text-start w-100",{"d-none":a.controlListRenameInputVisible(t)}]),onClick:e=>a.showListRenameInput(t)},Object(o["G"])(e.name),11,ze),Object(o["O"])(Object(o["h"])("input",{class:Object(o["q"])(["form-control me-2",{"d-none":!a.controlListRenameInputVisible(t)}]),type:"text",placeholder:"新列表","onUpdate:modelValue":t=>e.name=t,ref_for:!0,ref:e=>a.setListRenameInputRefs(e,t),onBlur:c=>a.handleListRenameInput(t,e.name)},null,42,Me),[[o["K"],e.name]]),Be,Object(o["h"])("ul",{class:"dropdown-menu","aria-labelledby":"dropdownMenuList",onClick:e=>a.deleteList(t)},Ve,8,Fe)]),Object(o["h"])("div",Ge,[(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(e.items,(e,c)=>(Object(o["w"])(),Object(o["g"])(o["a"],{key:c},[a.filterItem(e.tags)?(Object(o["w"])(),Object(o["g"])("div",{key:0,class:"mb-3 mh-100 overflow-auto",type:"button","data-bs-toggle":"modal","data-bs-target":"#itemModal",onClick:e=>a.setTargetId(t,c)},[Object(o["h"])("div",Ue,[Object(o["h"])("div",$e,Object(o["G"])(e.title),1),(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(e.tags,(e,t)=>(Object(o["w"])(),Object(o["g"])("div",{class:"d-inline rounded-pill bg-primary py-1 px-2 me-2",key:t},[Object(o["h"])("small",He,Object(o["G"])(e),1)]))),128)),e.deadline?(Object(o["w"])(),Object(o["g"])("div",Pe,[Ke,Object(o["i"])(" "+Object(o["G"])(e.deadline.date),1)])):Object(o["f"])("",!0),e.note?(Object(o["w"])(),Object(o["g"])("i",Ye)):Object(o["f"])("",!0),e.checklists?(Object(o["w"])(),Object(o["g"])("div",We,[Je,Object(o["i"])(" "+Object(o["G"])(a.countCheckedNumber(e.checklists)),1)])):Object(o["f"])("",!0),e.files?(Object(o["w"])(),Object(o["g"])("div",Qe,[Xe,Object(o["i"])(" "+Object(o["G"])(Object.keys(e.files).length),1)])):Object(o["f"])("",!0)])],8,qe)):Object(o["f"])("",!0)],64))),128)),Object(o["h"])("div",Ze,[Object(o["h"])("button",{type:"button",class:Object(o["q"])(["btn btn-light text-reset py-0",{"d-none":a.controlItemAddSectionVisible(t)}]),ref_for:!0,ref:e=>a.setItemAddSectionRefs(e,t,"showButton"),onClick:e=>a.showItemAddTextarea(t)},ot,10,et)]),Object(o["h"])("textarea",{class:Object(o["q"])(["form-control my-3 border",{"d-none":!a.controlItemAddSectionVisible(t)}]),placeholder:"增加項目",rows:"2",ref_for:!0,ref:e=>a.setItemAddSectionRefs(e,t,"textarea"),onBlur:e=>a.handleItemAddSection(t),onKeypress:Object(o["P"])(e=>a.handleItemAddSection(t),["enter"])},null,42,at)])]))),128)),Object(o["h"])("form",null,[Object(o["h"])("button",{type:"button",class:Object(o["q"])(["btn btn-light border list-width",{"d-none":a.listAddSectionRefs.isEdit}]),ref:e=>a.listAddSectionRefs.showButton=e,onClick:t[3]||(t[3]=(...e)=>a.showListAddInputWrapper&&a.showListAddInputWrapper(...e))},[nt,Object(o["i"])(" 新增其他列表 ")],2),Object(o["h"])("div",{class:Object(o["q"])(["list-width",{"d-none":!a.listAddSectionRefs.isEdit}])},[Object(o["O"])(Object(o["h"])("input",{type:"text",class:"form-control mb-3",placeholder:"增加項目",ref:e=>a.listAddSectionRefs.input=e,"onUpdate:modelValue":t[4]||(t[4]=e=>a.listAddSectionRefs.inputValue=e)},null,512),[[o["K"],a.listAddSectionRefs.inputValue]]),Object(o["h"])("button",{type:"button",class:"btn btn-primary me-2",ref:e=>a.listAddSectionRefs.addButton=e,onClick:t[5]||(t[5]=(...e)=>a.addList&&a.addList(...e))}," 新增 ",512),st],2)])]),Object(o["j"])(l,{notebook:a.notebook,onSetTargetId:a.setTargetId},null,8,["notebook","onSetTargetId"])])}const dt=e=>(Object(o["z"])("data-v-7399e695"),e=e(),Object(o["x"])(),e),bt={class:"modal-dialog modal-dialog-scrollable modal-fullscreen-sm-down"},it={class:"modal-content border-0 overflow-visible",style:{"min-height":"550px"}},rt={class:"modal-header"},jt={class:"overflow-auto p-3 flex-grow-1"},ut={key:0},Ot=dt(()=>Object(o["h"])("div",null,"標籤",-1)),pt={class:"d-flex flex-wrap mb-3 mt-2"},ft={class:"d-flex align-items-center rounded-pill bg-primary py-1 px-2"},ht={class:"me-1 text-white"},mt=["onClick"],gt=dt(()=>Object(o["h"])("i",{class:"tag-close ri-close-line"},null,-1)),kt=[gt],vt={key:1},wt=dt(()=>Object(o["h"])("div",null,"截止日",-1)),yt={class:"d-flex align-items-center mt-2 mb-3"},xt={class:"mb-3"},Ct=dt(()=>Object(o["h"])("div",{class:"mb-3"},[Object(o["h"])("i",{class:"ri-align-left fs-5 fw-bold me-2"}),Object(o["h"])("span",{class:"fs-5 fw-bold"},"記事")],-1)),Dt={class:"mb-3 d-flex justify-content-between align-items-center"},It=dt(()=>Object(o["h"])("i",{class:"ri-checkbox-line fs-5 fw-bold me-2"},null,-1)),St={class:"fs-5 fw-bold"},Rt={class:"dropdown-menu p-0","aria-labelledby":"dropdownMenuList"},Nt={class:"border-bottom px-3 py-2 m-0"},At=dt(()=>Object(o["h"])("div",{class:"px-3 pt-2"},[Object(o["h"])("small",null,"刪除之後將無法復原。")],-1)),Tt={class:"p-3 d-flex justify-content-between align-items-center"},Et=["onClick"],Lt=["onClick"],zt=dt(()=>Object(o["h"])("small",null,"關閉",-1)),Mt=[zt],Bt={class:"form-check"},Ft=["onUpdate:modelValue","onChange"],_t=["onClick"],Vt=["onUpdate:modelValue","onInput"],Gt={class:"d-flex justify-content-end"},qt=["onClick"],Ut=["onClick"],$t=["onClick"],Ht=dt(()=>Object(o["h"])("button",{type:"button",class:"btn"},"取消",-1)),Pt={key:2,class:"mb-3"},Kt=dt(()=>Object(o["h"])("div",{class:"mb-3"},[Object(o["h"])("i",{class:"ri-attachment-line fs-5 fw-bold me-2"}),Object(o["h"])("span",{class:"fs-5 fw-bold"},"附件")],-1)),Yt={class:"d-flex justify-content-between align-items-center file-item rounded p-1"},Wt=dt(()=>Object(o["h"])("i",{class:"ri-file-line me-1"},null,-1)),Jt=dt(()=>Object(o["h"])("i",{class:"ri-more-fill text-muted"},null,-1)),Qt=[Jt],Xt={class:"dropdown-menu","aria-labelledby":"dropdownMenuCheck"},Zt=["onClick"],ec=dt(()=>Object(o["h"])("i",{class:"ri-download-2-line fs-5 me-1"},null,-1)),tc=["onClick"],cc=dt(()=>Object(o["h"])("i",{class:"ri-delete-bin-line fs-5 me-1"},null,-1)),oc={class:"d-flex justify-content-between border-top p-3"},ac={class:"fs-4 d-flex"},nc=dt(()=>Object(o["h"])("i",{class:"ri-price-tag-line"},null,-1)),sc=[nc],lc={class:"dropdown-menu p-0","aria-labelledby":"dropdownTag"},dc=dt(()=>Object(o["h"])("h5",{class:"border-bottom p-3 m-0"},"為記事加標籤",-1)),bc={class:"p-3"},ic={class:"p-0 overflow-auto",style:{"max-height":"150px"}},rc={class:"form-check w-100"},jc=["id","checked","onChange"],uc=["for"],Oc={key:0,class:"border-top p-3 d-flex justify-content-center"},pc=dt(()=>Object(o["h"])("i",{class:"ri-checkbox-line"},null,-1)),fc=[pc],hc={class:"dropdown-menu p-0","aria-labelledby":"dropdownChecklist"},mc=dt(()=>Object(o["h"])("h5",{class:"border-bottom p-3 m-0"},"新增待辦清單",-1)),gc={class:"d-flex flex-column px-3"},kc={class:"my-3"},vc=dt(()=>Object(o["h"])("label",{for:"checklistName",class:"form-label"},"標題",-1)),wc={type:"text",class:"form-control",id:"checklistName",ref:"checklistAddInputRef"},yc={class:"border-top p-3 d-flex justify-content-between align-items-center"},xc=dt(()=>Object(o["h"])("i",{class:"ri-attachment-line"},null,-1)),Cc=[xc],Dc={class:"dropdown-menu p-0","aria-labelledby":"dropdownFile"},Ic=dt(()=>Object(o["h"])("h5",{class:"border-bottom p-3 m-0"},"新增待辦清單",-1)),Sc={class:"d-flex flex-column px-3"},Rc=dt(()=>Object(o["h"])("small",{class:"mt-2"},[Object(o["h"])("span",null,"檔案上限為5MB")],-1)),Nc={key:0,class:"mt-2 text-danger"},Ac=dt(()=>Object(o["h"])("span",null,"檔案超過限制大小！",-1)),Tc=[Ac],Ec={class:"border-top mt-3 p-3 d-flex justify-content-between align-items-center"},Lc=dt(()=>Object(o["h"])("div",{type:"button"},"關閉",-1)),zc=dt(()=>Object(o["h"])("i",{class:"ri-time-line"},null,-1)),Mc=[zc],Bc=dt(()=>Object(o["h"])("i",{class:"ri-delete-bin-line"},null,-1)),Fc=[Bc],_c={class:"dropdown-menu p-0","aria-labelledby":"dropdownDelete"},Vc=dt(()=>Object(o["h"])("h5",{class:"border-bottom p-3 m-0"},"刪除一則記事",-1)),Gc={class:"p-3 d-flex justify-content-between align-items-center"},qc=dt(()=>Object(o["h"])("button",{class:"fs-5 border-0 bg-transparent",type:"button","data-bs-dismiss":"modal","aria-label":"Close"}," 關閉 ",-1));function Uc(e,t,c,a,n,s){const l=Object(o["E"])("DateDropdown");return Object(o["w"])(),Object(o["g"])("div",{class:"modal fade",id:"itemModal",tabindex:"-1","aria-hidden":"true",ref:e=>a.setModalRef(e),onClick:t[18]||(t[18]=e=>a.hideCheckTextareaWrapper(e))},[Object(o["h"])("div",bt,[Object(o["h"])("div",it,[Object(o["h"])("div",rt,[Object(o["O"])(Object(o["h"])("textarea",{class:"w-100 border-0 fs-3",placeholder:"標題",rows:"1","onUpdate:modelValue":t[0]||(t[0]=e=>a.itemData.title=e),onInput:t[1]||(t[1]=e=>a.autosizeTextarea(e))},null,544),[[o["K"],a.itemData.title]])]),Object(o["h"])("div",jt,[a.itemData.tags?(Object(o["w"])(),Object(o["g"])("div",ut,[Ot,Object(o["h"])("div",pt,[(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(a.itemData.tags,(e,t)=>(Object(o["w"])(),Object(o["g"])("div",{class:"my-2 me-2",key:t},[Object(o["h"])("div",ft,[Object(o["h"])("small",ht,Object(o["G"])(e),1),Object(o["h"])("div",{onClick:e=>a.removeTag(t)},kt,8,mt)])]))),128))])])):Object(o["f"])("",!0),a.itemData.deadline?(Object(o["w"])(),Object(o["g"])("div",vt,[wt,Object(o["h"])("div",yt,[Object(o["O"])(Object(o["h"])("input",{class:"form-check-input mt-0 me-2",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>a.itemData.deadline.completed=e),onChange:t[3]||(t[3]=e=>a.DateDropdownRef.setDeadlineCompleted(a.itemData.deadline.completed))},null,544),[[o["J"],a.itemData.deadline.completed]]),Object(o["h"])("button",{type:"button",class:"btn btn-light border",id:"dateDropdownButton","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref:e=>a.setdropdownRefs(e,"dateDropdownButton"),onClick:t[4]||(t[4]=e=>a.DateDropdownData.id="dateDropdownButton")},Object(o["G"])(a.itemData.deadline.date),513),Object(o["j"])(l,{ref:"DateDropdownRef",DateDropdownData:a.DateDropdownData,onToggleDropdown:a.toggleDropdown},null,8,["DateDropdownData","onToggleDropdown"])])])):Object(o["f"])("",!0),Object(o["h"])("div",xt,[Ct,Object(o["h"])("div",{class:"w-100 text-break pointer",contenteditable:"true",role:"textbox",placeholder:"新增記事...",onBlur:t[5]||(t[5]=e=>a.updateNote(e))},Object(o["G"])(a.itemData.note),33)]),(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(a.itemData.checklists,(e,t)=>(Object(o["w"])(),Object(o["g"])("div",{class:"mb-3",key:t},[Object(o["h"])("div",Dt,[Object(o["h"])("div",null,[It,Object(o["h"])("span",St,Object(o["G"])(e.name),1)]),Object(o["h"])("button",{type:"button",class:"btn btn-light border",id:"dropdownMenuList","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref_for:!0,ref:e=>a.setdropdownRefs(e,t)}," 刪除 ",512),Object(o["h"])("div",Rt,[Object(o["h"])("div",Nt,"要刪除 "+Object(o["G"])(e.name)+" 嗎?",1),At,Object(o["h"])("div",Tt,[Object(o["h"])("button",{type:"button",class:"btn btn-danger btn-sm",onClick:e=>a.deleteChecklist(t)}," 刪除 ",8,Et),Object(o["h"])("button",{class:"border-0 bg-transparent",type:"button",onClick:e=>a.toggleDropdown(t)},Mt,8,Lt)])])]),(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(e.checks,(e,c)=>(Object(o["w"])(),Object(o["g"])("div",{class:"check-item ps-2 rounded",key:c},[Object(o["h"])("div",Bt,[Object(o["O"])(Object(o["h"])("input",{class:"form-check-input",type:"checkbox",style:{"margin-top":".7em"},"onUpdate:modelValue":t=>e.checked=t,onChange:o=>a.setCheckbox(e.checked,t,c)},null,40,Ft),[[o["J"],e.checked]]),Object(o["h"])("div",{class:Object(o["q"])(["w-100 py-2",{"d-none":a.controlCheckHandleSectionVisible(c)}]),ref_for:!0,ref:e=>a.setCheckHandleSectionRefs(e,c,"showButton"),onClick:e=>a.showCheckTextareaWrapper(c)},Object(o["G"])(e.name),11,_t),Object(o["h"])("div",{class:Object(o["q"])(["p-2",{"d-none":!a.controlCheckHandleSectionVisible(c)}])},[Object(o["O"])(Object(o["h"])("textarea",{class:"form-control mb-2",placeholder:"增加項目",rows:"1","onUpdate:modelValue":t=>e.name=t,ref_for:!0,ref:e=>a.setCheckHandleSectionRefs(e,c,"textarea"),onInput:o=>a.setCheck(e.name,t,c)},null,40,Vt),[[o["K"],e.name]]),Object(o["h"])("div",Gt,[Object(o["h"])("button",{type:"button",class:"btn btn-sm",ref_for:!0,ref:e=>a.setCheckHandleSectionRefs(e,c,"setButton"),onClick:e=>a.deleteCheck(t,c)}," 刪除 ",8,qt)])],2)])]))),128)),Object(o["h"])("button",{type:"button",class:Object(o["q"])(["btn btn-light border mt-2",{"d-none":a.controlCheckHandleSectionVisible(t)}]),ref_for:!0,ref:e=>a.setCheckHandleSectionRefs(e,t,"showButton"),onClick:e=>a.showCheckTextareaWrapper(t)}," 增加項目 ",10,Ut),Object(o["h"])("div",{class:Object(o["q"])(["mt-2",{"d-none":!a.controlCheckHandleSectionVisible(t)}])},[Object(o["h"])("textarea",{class:"form-control mb-3",placeholder:"增加項目",rows:"1",ref_for:!0,ref:e=>a.setCheckHandleSectionRefs(e,t,"textarea")},null,512),Object(o["h"])("button",{type:"button",class:"btn btn-primary me-2",ref_for:!0,ref:e=>a.setCheckHandleSectionRefs(e,t,"setButton"),onClick:e=>a.addCheck(t)}," 新增 ",8,$t),Ht],2)]))),128)),a.itemData.files?(Object(o["w"])(),Object(o["g"])("div",Pt,[Kt,(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(a.itemData.files,(e,t)=>(Object(o["w"])(),Object(o["g"])("div",{class:"fs-5 mb-1",key:t},[Object(o["h"])("div",Yt,[Object(o["h"])("span",null,[Wt,Object(o["i"])(" "+Object(o["G"])(e.name),1)]),Object(o["h"])("div",{class:"icon-button-hover rounded-circle d-flex justify-content-center align-items-center",type:"button",id:"dropdownMenuCheck","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref_for:!0,ref:e=>a.setdropdownRefs(e,t)},Qt,512),Object(o["h"])("div",Xt,[Object(o["h"])("li",{class:"dropdown-item pointer",onClick:c=>a.downloadFile(t,e.name)},[ec,Object(o["i"])(" 下載 ")],8,Zt),Object(o["h"])("li",{class:"dropdown-item pointer",onClick:c=>a.deleteFile(t,e.name)},[cc,Object(o["i"])(" 刪除 ")],8,tc)])])]))),128))])):Object(o["f"])("",!0)]),Object(o["h"])("div",oc,[Object(o["h"])("div",ac,[Object(o["h"])("div",null,[Object(o["h"])("div",{class:"icon-button-hover rounded-circle d-flex justify-content-center align-items-center",type:"button",id:"dropdownTag","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref:e=>a.setdropdownRefs(e,"dropdownTag"),onClick:t[6]||(t[6]=(...e)=>a.initTagDropdown&&a.initTagDropdown(...e))},sc,512),Object(o["h"])("div",lc,[dc,Object(o["h"])("div",bc,[Object(o["O"])(Object(o["h"])("input",{type:"text",class:"form-control",placeholder:"輸入標籤名稱",spellcheck:"false",ref:e=>a.tagInputRef.input=e,"onUpdate:modelValue":t[7]||(t[7]=e=>a.tagInputRef.value=e)},null,512),[[o["K"],a.tagInputRef.value]])]),Object(o["h"])("ul",ic,[(Object(o["w"])(!0),Object(o["g"])(o["a"],null,Object(o["C"])(a.tagList,(e,t)=>(Object(o["w"])(),Object(o["g"])("li",{class:"dropdown-item pointer d-flex align-items-center",key:t},[Object(o["h"])("div",rc,[Object(o["h"])("input",{class:"form-check-input pointer",type:"checkbox",id:e.id,checked:e.checked,onChange:t=>a.handleTag(t,e)},null,40,jc),Object(o["h"])("label",{class:"form-check-label w-100 pointer",for:e.id},Object(o["G"])(e.name),9,uc)])]))),128))]),a.tagInputRef.value?(Object(o["w"])(),Object(o["g"])("div",Oc,[Object(o["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>a.addTag&&a.addTag(...e))}," 創建新標籤 ")])):Object(o["f"])("",!0)])]),Object(o["h"])("div",null,[Object(o["h"])("div",{class:"icon-button-hover rounded-circle d-flex justify-content-center align-items-center",type:"button",id:"dropdownChecklist","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref:e=>a.setdropdownRefs(e,"dropdownChecklist"),onClick:t[9]||(t[9]=(...e)=>a.checklistAddInputRef.focus&&a.checklistAddInputRef.focus(...e))},fc,512),Object(o["h"])("div",hc,[mc,Object(o["h"])("div",gc,[Object(o["h"])("div",kc,[vc,Object(o["h"])("input",wc,null,512)])]),Object(o["h"])("div",yc,[Object(o["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[10]||(t[10]=(...e)=>a.addChecklist&&a.addChecklist(...e))},"新增"),Object(o["h"])("div",{type:"button",onClick:t[11]||(t[11]=e=>a.toggleDropdown("dropdownChecklist"))},"關閉")])])]),Object(o["h"])("div",null,[Object(o["h"])("div",{class:"icon-button-hover rounded-circle d-flex justify-content-center align-items-center",type:"button",id:"dropdownFile","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref:e=>a.setdropdownRefs(e,"dropdownFile"),onClick:t[12]||(t[12]=(...e)=>a.clearFormFile&&a.clearFormFile(...e))},Cc,512),Object(o["h"])("div",Dc,[Ic,Object(o["h"])("div",Sc,[Rc,Object(o["h"])("input",{class:"form-control mt-2",type:"file",ref:"formFileRef",onChange:t[13]||(t[13]=(...e)=>a.setIsFileOversize&&a.setIsFileOversize(...e))},null,544),a.isFileOversize?(Object(o["w"])(),Object(o["g"])("small",Nc,Tc)):Object(o["f"])("",!0)]),Object(o["h"])("div",Ec,[Object(o["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[14]||(t[14]=(...e)=>a.uploadFile&&a.uploadFile(...e))}," 上傳 "),Lc])])]),Object(o["h"])("div",null,[Object(o["h"])("div",{class:"icon-button-hover rounded-circle d-flex justify-content-center align-items-center",id:"dateDropdownIcon",type:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref:e=>a.setdropdownRefs(e,"dateDropdownIcon"),onClick:t[15]||(t[15]=e=>a.DateDropdownData.id="dateDropdownIcon")},Mc,512),Object(o["j"])(l,{DateDropdownData:a.DateDropdownData,onToggleDropdown:a.toggleDropdown},null,8,["DateDropdownData","onToggleDropdown"])]),Object(o["h"])("div",null,[Object(o["h"])("div",{class:"icon-button-hover rounded-circle d-flex justify-content-center align-items-center",type:"button",id:"dropdownDelete","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref:e=>a.setdropdownRefs(e,"dropdownDelete")},Fc,512),Object(o["h"])("div",_c,[Vc,Object(o["h"])("div",Gc,[Object(o["h"])("button",{type:"button",class:"btn btn-danger",onClick:t[16]||(t[16]=(...e)=>a.removeItem&&a.removeItem(...e))},"刪除"),Object(o["h"])("div",{type:"button",onClick:t[17]||(t[17]=e=>a.toggleDropdown("dropdownDelete"))},"關閉")])])])]),qc])])])],512)}var $c=c("588e");const Hc={class:"dropdown-menu p-0"},Pc={class:"border-bottom p-3 d-flex justify-content-between align-items-center"},Kc=Object(o["h"])("div",{class:"m-0 fs-5"},"日期",-1),Yc={class:"d-flex flex-column px-3"},Wc={class:"my-3"},Jc={class:"border-top p-3 d-flex justify-content-between align-items-center"};function Qc(e,t,c,a,n,s){const l=Object(o["E"])("v-calendar");return Object(o["w"])(),Object(o["g"])("div",Hc,[Object(o["h"])("div",Pc,[Kc,Object(o["h"])("div",null,[Object(o["h"])("small",null,"截止日 : "+Object(o["G"])(a.dateTip),1)])]),Object(o["h"])("div",Yc,[Object(o["h"])("div",Wc,[Object(o["j"])(l,{ref:"calendar",attributes:[{highlight:!0,dates:a.date}],onDayclick:t[0]||(t[0]=e=>a.date=e.date)},null,8,["attributes"])])]),Object(o["h"])("div",Jc,[Object(o["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>a.setDeadline&&a.setDeadline(...e))}," 儲存 "),Object(o["h"])("div",{type:"button",onClick:t[2]||(t[2]=(...e)=>a.deleteDeadline&&a.deleteDeadline(...e))}," 移除 ")])])}var Xc=c("c1df"),Zc=c.n(Xc),eo={name:"DateDropdown",props:{DateDropdownData:{typs:Object}},setup(e,t){const c=Object(N["b"])(),{itemData:a,itemPath:n,id:s}=Object(o["H"])(Object(o["c"])(()=>e.DateDropdownData).value),l=Object(o["B"])(new Date),d=Object(o["c"])(()=>Zc()(l.value).format("YYYY/MM/DD")),b=()=>{if(a.value){const e=a.value.deadline;l.value=e?e.dateUTC:new Date,r()}},i=Object(o["B"])(null),r=()=>{Object(o["p"])(()=>{i.value&&l.value&&i.value.showPageRange(new Date(l.value),{transition:"none"})})};Object(o["M"])(a,b,{immediate:!0});const j=()=>{const e=n.value+"/deadline";Object(N["g"])(Object(N["e"])(c),{[e]:{date:Zc()(l.value).format("YYYY年MM月DD日"),dateUTC:l.value,completed:!1}}),t.emit("toggleDropdown",s.value)},u=e=>{const t=n.value+"/deadline";Object(N["g"])(Object(N["e"])(c),{[t+"/completed"]:e})},O=()=>{const e=n.value+"/deadline";Object(N["f"])(Object(N["e"])(c,e)),t.emit("toggleDropdown",s.value)},p=Object(o["B"])(null);return Object(o["u"])(()=>{if(p.value=document.getElementById("dateDropdownButton"),p.value)p.value.addEventListener("hidden.bs.dropdown",r);else{const e=document.getElementById("dateDropdownIcon");e.addEventListener("hidden.bs.dropdown",r)}}),Object(o["v"])(()=>{p.value.removeEventListener("hidden.bs.dropdown",r)}),{date:l,dateTip:d,calendar:i,setDeadline:j,setDeadlineCompleted:u,deleteDeadline:O}}};const to=U()(eo,[["render",Qc]]);var co=to,oo={name:"Modal",components:{DateDropdown:co},props:{notebook:{type:Object}},setup(e,t){const c=Object(N["b"])(),a=Object($c["c"])(),n=Object(o["c"])(()=>{const{data:t,listId:c,itemId:o}=e.notebook;return t&&o?t.lists[c].items[o]:{}}),s=Object(o["c"])(()=>{const{notebookId:t,listId:c,itemId:o}=e.notebook;return e.notebook?`notebooks/${t}/lists/${c}/items/${o}`:""}),l=e=>{const t=s.value,o=e.target.innerText;Object(N["g"])(Object(N["e"])(c),{[t+"/note"]:o})},d=e=>{const t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"},b=Object(o["B"])(null),i=Object(o["A"])({itemData:n,itemPath:s,id:""}),r=Object(o["A"])({editing:""}),j=Object(o["B"])(null),u=(e,t,c)=>{e?r[t]?r[t][c]=e:r[t]={isEdit:!1}:delete r[t]},O=e=>{const t=r[e],{editing:c}=r;c&&(c.isEdit=!1),r.editing=t,t.isEdit=!0,Object(o["p"])(()=>{t.textarea.focus()})},p=e=>{let{isEdit:t,textarea:c,showButton:o,setButton:a}=r.editing;if(t){const t=c.contains(e.target),n=a.contains(e.target),s=o.contains(e.target);s||t||n||(r.editing.isEdit=!1,r.editing="")}},f=e=>{const t=r[e];if(t)return t.isEdit},h=()=>{const e=document.getElementById("checklistName"),t=s.value+"/checklists",o=Object(N["d"])(Object(N["a"])(Object(N["e"])(c),t)).key;e.value&&(Object(N["g"])(Object(N["e"])(c),{[t+"/"+o]:{checks:"",name:e.value}}),E("dropdownChecklist"),e.value="")},m=e=>{const t=s.value+"/checklists/"+e;Object(N["f"])(Object(N["e"])(c,t)),E(e)},g=e=>{const{textarea:t}=r.editing;if(t.value){const o=s.value+"/checklists/"+e+"/checks",a=Object(N["d"])(Object(N["a"])(Object(N["e"])(c),o)).key;Object(N["g"])(Object(N["e"])(c),{[o+"/"+a]:{checked:!1,name:t.value}}),t.value="",r.editing.isEdit=!1,r.editing=""}else t.focus()},k=(e,t)=>{const o=s.value+`/checklists/${e}/checks/${t}`;Object(N["f"])(Object(N["e"])(c,o))},v=(e,t,o)=>{const a=s.value+`/checklists/${t}/checks/${o}`;Object(N["g"])(Object(N["e"])(c),{[a+"/name"]:e})},w=(e,t,o)=>{const a=s.value+`/checklists/${t}/checks/${o}`;Object(N["g"])(Object(N["e"])(c),{[a+"/checked"]:e})},y=Object(o["B"])(null),x=()=>{const t=y.value.files[0];if(t){const o=s.value+"/files",n=Object(N["d"])(Object(N["a"])(Object(N["e"])(c),o)).key;Object(N["g"])(Object(N["e"])(c),{[o+"/"+n]:{name:t.name}});const{itemId:l}=e.notebook,d=Object($c["d"])(a,`files/${l}/${n}/${t.name}`);Object($c["e"])(d,t).then(()=>{console.log("Uploaded a blob or file!")}),E("dropdownFile")}},C=Object(o["B"])(!1),D=()=>{const e=(()=>{if(y.value)return y.value.files[0]})(),t=(()=>{if(e)return Math.round(e.size/1024/1024*10)/10})();e&&(C.value=t>=5)},I=()=>{y.value.value="",C.value=!1},S=(t,o)=>{const n=s.value+"/files/"+t;Object(N["f"])(Object(N["e"])(c,n));const{itemId:l}=e.notebook,d=Object($c["d"])(a,`files/${l}/${t}/${o}`);Object($c["a"])(d).then(()=>{console.log("刪除成功")}).catch(e=>{console.log(e.code)}),E(t)},R=(t,c)=>{const{itemId:o}=e.notebook,n=`files/${o}/${t}/${c}`;Object($c["b"])(Object($c["d"])(a,n)).then(e=>{fetch(e).then(e=>e.blob()).then(t=>{const o=window.URL.createObjectURL(t),a=document.createElement("a");a.href=o,a.download=c,a.target="_blank",a.style.display="none",a.click(),a.remove(),window.URL.revokeObjectURL(e)})}),E(t)},A=Object(o["A"])({}),T=(e,t)=>{Object(o["p"])(()=>{e?A[t]||(A[t]=new V["a"](e)):delete A[t]})},E=e=>{const t=A[e];t.toggle()},L=Object(o["A"])({input:"",value:""}),z=Object(o["c"])(()=>{const t=L.value,c=e.notebook.data.tags,o=n.value.tags,a=(()=>{if(c)return Object.keys(c).map(e=>({id:e,name:c[e],checked:!!o&&o[e]}))})();return t?a.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())):a}),M=()=>{L.value="",L.input.focus()},B=()=>{const t=e.notebook.notebookId,o="notebooks/"+t+"/tags",a=Object(N["d"])(Object(N["a"])(Object(N["e"])(c),o)).key;Object(N["g"])(Object(N["e"])(c),{[o+"/"+a]:L.value});const n=n.value+"/tags";Object(N["g"])(Object(N["e"])(c),{[n+"/"+a]:L.value}),M()},F=e=>{const t=s.value+"/tags/"+e;Object(N["f"])(Object(N["e"])(c,t)),n.value.tags||Object(N["g"])(Object(N["e"])(c),{[s.value+"/tags/"]:""})},_=(e,t)=>{if(e.target.checked){const e=s.value+"/tags";Object(N["g"])(Object(N["e"])(c),{[e+"/"+t.id]:t.name})}else F(t.id)},G=Object(o["A"])({}),q=e=>{e&&(G.el||(G.el=e,G.data=new V["b"](e)))},U=()=>{G.data.hide(),Object(o["p"])(()=>{const e=s.value;Object(N["f"])(Object(N["e"])(c,e)),t.emit("setTargetId")})};return{itemData:n,updateNote:l,autosizeTextarea:d,DateDropdownRef:b,DateDropdownData:i,checklistAddInputRef:j,setCheckHandleSectionRefs:u,showCheckTextareaWrapper:O,hideCheckTextareaWrapper:p,controlCheckHandleSectionVisible:f,addChecklist:h,deleteChecklist:m,addCheck:g,deleteCheck:k,setCheck:v,setCheckbox:w,formFileRef:y,uploadFile:x,isFileOversize:C,setIsFileOversize:D,clearFormFile:I,deleteFile:S,downloadFile:R,dropdownRefs:A,setdropdownRefs:T,toggleDropdown:E,tagInputRef:L,tagList:z,initTagDropdown:M,addTag:B,removeTag:F,handleTag:_,modalRef:G,setModalRef:q,removeItem:U}}};c("69d4");const ao=U()(oo,[["render",Uc],["__scopeId","data-v-7399e695"]]);var no=ao,so={name:"Notebook",components:{ItemModal:no},setup(){const e=Object(R["c"])(),t=Object(R["d"])(),c=Object(N["b"])(),a=Object(o["c"])(()=>e.params.key),n=Object(o["A"])({data:{},notebookId:a,listId:"",itemId:""});Object(o["M"])(a,()=>{s()}),Object(o["M"])(a,()=>{const e=Object(N["e"])(c,"notebooks/"+a.value);Object(N["c"])(e,e=>{n.data=e.val()?e.val():{}})},{immediate:!0});const s=(e,t)=>{n.listId=e,n.itemId=t},l=()=>{const e="notebooks/"+a.value;Object(N["f"])(Object(N["e"])(c,e)),t.push({name:"Notebooks"})},d=Object(o["A"])({isEdit:!1,showButton:"",input:"",inputValue:"",addButton:""}),b=()=>{d.isEdit=!0;const e=document.getElementById("app"),t=c=>{let{isEdit:o,input:a,addButton:n,showButton:s}=d;if(o){const o=a.contains(c.target),l=n.contains(c.target),b=s.contains(c.target);b||o||l||(d.isEdit=!1,e.removeEventListener("click",t))}};e.addEventListener("click",t),Object(o["p"])(()=>{d.input.focus()})},i=()=>{const{inputValue:e,input:t}=d;if(e){const t="notebooks/"+a.value+"/lists",o=Object(N["d"])(Object(N["a"])(Object(N["e"])(c),t)).key;Object(N["g"])(Object(N["e"])(c),{[t+"/"+o]:{name:e,items:""}}),d.isEdit=!1,d.inputValue=""}else t.focus()},r=e=>{const t="notebooks/"+a.value+"/lists/"+e;Object(N["f"])(Object(N["e"])(c,t))},j=Object(o["A"])({}),u=(e,t)=>{e?j[t]||(j[t]={isEdit:!1,input:e}):delete j[t]},O=e=>{const t=j[e];if(t)return t.isEdit},p=e=>{j[e].isEdit=!0,Object(o["p"])(()=>{j[e].input.focus()})},f=(e,t)=>{h(e,t),j[e].isEdit=!1},h=(e,t)=>{const o="notebooks/"+a.value+"/lists/"+e+"/name";Object(N["g"])(Object(N["e"])(c),{[o]:t})},m=Object(o["A"])({}),g=(e,t,c)=>{e?m[t]?m[t][c]=e:m[t]={isEdit:!1}:delete m[t]},k=e=>{const t=m[e];if(t)return t.isEdit},v=e=>{m[e].isEdit=!0,Object(o["p"])(()=>{const t=m[e].textarea,c=t.parentNode;t.focus(),c.scrollTop=c.scrollHeight})},w=e=>{m[e].isEdit=!1;const t=m[e].textarea.value;y(t,e)},y=(e,t)=>{if(e){const o="notebooks/"+a.value+"/lists/"+t+"/items",n=Object(N["d"])(Object(N["a"])(Object(N["e"])(c),o)).key;Object(N["g"])(Object(N["e"])(c),{[o+"/"+n]:{title:e,note:"",tags:""}}),m[t].textarea.value=""}},x=Object(o["B"])(null),C=e=>!x.value||e[x.value],D=()=>{const e="notebooks/"+a.value;Object(N["g"])(Object(N["e"])(c),{[e+"/isStart"]:!n.data.isStart})},I=e=>{let t=0,c=0;const o=Object.values(e);for(let a=0;a<o.length;a++){const e=Object.values(o[a].checks);t+=e.length;for(let t=0;t<e.length;t++)e[t].checked&&c++}return c+"/"+t};return{notebook:n,setTargetId:s,deleteNotebook:l,listAddSectionRefs:d,showListAddInputWrapper:b,addList:i,deleteList:r,listRenameInputRefs:j,setListRenameInputRefs:u,controlListRenameInputVisible:O,showListRenameInput:p,handleListRenameInput:f,itemAddSectionRefs:m,setItemAddSectionRefs:g,showItemAddTextarea:v,controlItemAddSectionVisible:k,handleItemAddSection:w,filterItem:C,tagIdFilter:x,setStart:D,countCheckedNumber:I}}};c("83aa");const lo=U()(so,[["render",lt],["__scopeId","data-v-331de761"]]);var bo=lo;const io=[{path:"/",redirect:"/notebooks"},{name:"Notebooks",path:"/notebooks",component:re},{name:"Notebook",path:"/:name/:key",component:bo}],ro=Object(R["a"])({history:Object(R["b"])(),routes:io});var jo=ro,uo=c("0261"),Oo=(c("09c5"),c("260b"));const po={apiKey:"AIzaSyCMvci9qdep4qgPzz3Pf06YA0P8JqwyGSs",authDomain:"goodnote-e23c8.firebaseapp.com",databaseURL:"https://goodnote-e23c8-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"goodnote-e23c8",storageBucket:"goodnote-e23c8.appspot.com",messagingSenderId:"180196645779",appId:"1:180196645779:web:49b7befbefe074d97ea666"};Object(Oo["a"])(po);const fo=Object(o["d"])(Q);fo.use(jo),fo.use(uo["a"],{}),fo.mount("#app")},"5f43":function(e,t,c){},"69d4":function(e,t,c){"use strict";c("365d")},"83aa":function(e,t,c){"use strict";c("bc01")},acae:function(e,t,c){},b68b:function(e,t,c){"use strict";c("197e")},bc01:function(e,t,c){},c606:function(e,t,c){"use strict";c("acae")},d991:function(e,t,c){"use strict";c("5f43")}});
//# sourceMappingURL=app.075b8653.js.map